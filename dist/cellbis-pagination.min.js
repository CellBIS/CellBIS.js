/*
 Filename : cellbis-pagination.min.js
 Author: Achmad Yusri Afandi (yusrideb@cpan.org)
 Date Create : 4/17/18 7:32 AM

 Copyright Achmad Yusri Afandi (yusrideb@cpan.org)
 Released under the Artistic License 2.0

*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,e,c){d!=Array.prototype&&d!=Object.prototype&&(d[e]=c.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var d=0;return function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+d++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var e=0;return $jscomp.iteratorPrototype(function(){return e<d.length?{done:!1,value:d[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.makeIterator=function(d){$jscomp.initSymbolIterator();var e=d[Symbol.iterator];return e?e.call(d):$jscomp.arrayIterator(d)};$jscomp.arrayFromIterator=function(d){for(var e,c=[];!(e=d.next()).done;)c.push(e.value);return c};$jscomp.arrayFromIterable=function(d){return d instanceof Array?d:$jscomp.arrayFromIterator($jscomp.makeIterator(d))};
$jscomp.polyfill=function(d,e,c,a){if(e){c=$jscomp.global;d=d.split(".");for(a=0;a<d.length-1;a++){var b=d[a];b in c||(c[b]={});c=c[b]}d=d[d.length-1];a=c[d];e=e(a);e!=a&&null!=e&&$jscomp.defineProperty(c,d,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.fill",function(d){return d?d:function(d,c,a){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==a||a>b)a=b;a=Number(a);0>a&&(a=Math.max(0,b+a));for(c=Number(c||0);c<a;c++)this[c]=d;return this}},"es6","es3");
(function(d){"function"===typeof define&&define.amd?define(["cellbis"],d):"object"===typeof module&&module.exports?module.exports=function(e,c){void 0===c&&(c="undefined"!==typeof window?require("cellbis"):require("cellbis")(e));d(c);return c}:d(cellbis)})(function(d){var e=d.utils,c=function(a,b){this.target="";this.config={};this.config_default=a;this.config_temp=b;this.html_template={wrap:'<div class="w3-container w3-show-inline-block w3-round"{{attr}}>{{value}}</div>',normal:'<button class="w3-bar-item cb-button cb-btn-biru"{{attr}}>{{value}}</button>',
active:'<button class="w3-bar-item cb-button cb-btn-biru active"{{attr}}>{{value}}</button>',sep:'<button class="w3-bar-item cb-button cb-btn-biru"{{attr}}>{{value}}</button>',first:'<button class="w3-bar-item cb-button cb-btn-biru"{{attr}}>{{value}}</button>',last:'<button class="w3-bar-item cb-button cb-btn-biru"{{attr}}>{{value}}</button>',prev:'<button class="w3-bar-item cb-button cb-btn-biru"{{attr}}>{{value}}</button>',next:'<button class="w3-bar-item cb-button cb-btn-biru"{{attr}}>{{value}}</button>'};
this.after_decision=0;this.result={object:{},array:[],html:""}};c.prototype.prepare=function(){var a=1;this.config.pageFirst=1;e.check_is_defined_obj(this.config,"pageSource")&&0!==this.config.pageSource.length&&(a=this.config.pageSource,a=a.length);a=Math.ceil(a/this.config.pageSize);this.config.pageLast=a;this.config.pageAmount=a};c.prototype.init=function(){var a=this.config_default,b=this.config_temp;this.config.pageSource=e.check_is_defined_obj(b,"pageSource")&&"object"===typeof b.pageSource&&
Array.isArray(b.pageSource)?b.pageSource:a.pageSource;this.config.pageLabel=e.check_is_defined_obj(b,"pageLabel")?b.pageLabel:a.pageLabel;this.config.pageFunc=e.check_is_defined_obj(b,"pageFunc")?b.pageFunc:a.pageFunc;this.config.pageDisplay=e.check_is_defined_obj(b,"pageDisplay")&&"number"===typeof b.pageDisplay?b.pageDisplay:a.pageDisplay;this.config.pageSize=e.check_is_defined_obj(b,"pageSize")&&"number"===typeof b.pageSize&&0!==b.pageSource.length?b.pageSize:a.pageSize;this.config.method=e.check_is_defined_obj(b,
"method")&&"object"===typeof b.method?b.method:a.method;this.config.pageActive=e.check_is_defined_obj(b,"pageActive")?b.pageActive:a.pageActive;this.prepare();return this};c.prototype.check_page=function(){var a=this.config.pageAmount,b=this.config.pageActive,c=0===this.config.pageDisplay%2?this.config.pageDisplay-1:this.config.pageDisplay,d=c+2,e=c-1,k=a-(c+1),l=a-(c+1),m=a-(d-1),n=(c-1)/2,p=a>=c+7?1:void 0,g={first:function(){return{type:"first",active:b,data:Array(d).fill(0).map(function(a,b){return b+
1})}},mid:function(){return{type:"mid",active:b,data:Array(c).fill(0).map(function(a,c){return c+b-n})}},last:function(){return{type:"last",active:b,data:Array(d).fill(0).map(function(a,b){return b+m})}},minimal:function(){return{type:"minimal",active:b,data:Array(a).fill(0).map(function(a,b){return b+1})}},default_page:function(){return{type:"default-page",active:b,data:Array(5).fill(0).map(function(a,b){return b+1})}}},f={non_minimal:function(){return 10<=a&&b<=a?1:void 0},minimal:function(){return a<=
c+2},first:function(){return b<=d-2},mid:function(){return b>=e&&b<=k},last:function(){return b>=l&&b<=a}},h=g.default_page();void 0!==p?f.minimal()?h=g.minimal():(f.non_minimal()&&f.first()&&(h=g.first()),f.non_minimal()&&!f.first()&&f.mid()&&(h=g.mid()),!f.non_minimal()||f.first()||f.mid()||(h=g.last())):h=g.minimal();return h};c.prototype.set_config=function(a){var b="pageSource pageLabel pageFunc method pageDisplay pageSize pageActive".split(" ");this.config=e.check_is_defined(a)&&"object"===
typeof a?d.combine.object(this.config,a,b):this.config};c.prototype.set_template=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];8<=b.length&&(this.html_template={wrap:e.check_is_defined(b[0])?b[0]:this.html_template.wrap,active:e.check_is_defined(b[1])?b[1]:this.html_template.active,normal:e.check_is_defined(b[2])?b[2]:this.html_template.normal,sep:e.check_is_defined(b[3])?b[3]:this.html_template.sep,first:e.check_is_defined(b[4])?b[4]:this.html_template.first,last:e.check_is_defined(b[5])?
b[5]:this.html_template.last,prev:e.check_is_defined(b[6])?b[6]:this.html_template.prev,next:e.check_is_defined(b[7])?b[7]:this.html_template.next});1===b.length&&"object"===typeof b[0]&&(this.html_template=d.combine.object(this.html_template,b[0],"wrap active normal sep first last prev next".split(" ")));return this};c.prototype.set_pageActive=function(a){this.config.pageActive=e.check_is_defined(a)&&0!==a?a:this.config.pageActive};c.prototype.set_pageFunc=function(a){this.config.pageFunc=e.check_is_defined(a)&&
0!==a?a:this.config.pageFunc};c.prototype.set_method=function(){};c.prototype.decision=function(){this.result.object=this.check_page();this.result.array=this.result.object.data;this.after_decision=1;return this};c.prototype.render=function(a){return 1!==this.after_decision||!e.check_is_defined(a)||"html"!==a&&"object"!==a&&"array"!==a?void 0:this["_data_to_"+a]()};c.prototype._render_html=function(a,b,c){if(e.check_is_defined(a))switch(a){case 1:a=this.html_template.active;break;case 2:a=this.html_template.wrap;
break;case 3:a=this.html_template.sep;break;case 4:a=this.html_template.first;break;case 5:a=this.html_template.last;break;case 6:a=this.html_template.prev;break;case 7:a=this.html_template.next;break;default:a=this.html_template.normal}else a=this.html_template.normal;c=e.check_is_defined(c)&&""!==c?c:"";b=e.check_is_defined(b)?b:"";a=a.replace(/([{|\s]+)value([\s|}]+)/gi,b);return a.replace(/([{|\s]+)attr([\s|}]+)/gi,c)};c.prototype._for_pageFunc=function(a,b){var c="",d=this.config.pageFunc.sep?
this.config.pageLabel.sep:"",e="prev"===this.config.pageLabel.prev?"Prev":"sym"===this.config.pageLabel.prev?"&laquo;":"Prev",k="next"===this.config.pageLabel.next?"Next":"sym"===this.config.pageLabel.next?"&raquo;":"Next",l="first"===this.config.pageLabel.first?"First":this.config.pageFirst,m="last"===this.config.pageLabel.last?"Last":this.config.pageLast,n='cb-action="pagination" cb-data="first" cb-state="'+(this.config.pageFirst-1)+'"',p='cb-action="pagination" cb-data="last" cb-state="'+(this.config.pageLast+
1)+'"',g='cb-action="pagination" cb-data="prev" cb-state="'+(this.config.pageActive-1)+'"',f='cb-action="pagination" cb-data="next" cb-state="'+(this.config.pageActive+1)+'"';"first"===a&&(c=c+b+(this.config.pageFunc.sep?this._render_html(3,d,'cb-action="pagination" cb-data="separator" cb-state="disabled" disabled'):""),c+=this._render_html(0,m),this.config.pageFunc.next&&(c+=this._render_html(7,k,f)));"mid"===a&&(this.config.pageFunc.prev&&(c+=this._render_html(6,e,g)),this.config.pageFunc.first&&
(c+=this._render_html(4,l,n)),(this.config.pageFunc.prev||this.config.pageFunc.first)&&this.config.pageFunc.sep&&(c+=this._render_html(3,d,'cb-action="pagination" cb-data="separator" cb-state="disabled" disabled')),c+=b,(this.config.pageFunc.last||this.config.pageFunc.next)&&this.config.pageFunc.sep&&(c+=this._render_html(3,d,'cb-action="pagination" cb-data="separator" cb-state="disabled" disabled')),this.config.pageFunc.last&&(c+=this._render_html(5,m,p)),this.config.pageFunc.next&&(c+=this._render_html(7,
k,f)));"last"===a&&(this.config.pageFunc.prev&&(c+=this._render_html(6,e,g)),this.config.pageFunc.first&&(c+=this._render_html(4,l,n)),(this.config.pageFunc.last||this.config.pageFunc.next)&&this.config.pageFunc.sep&&(c+=this._render_html(3,d,'cb-action="pagination" cb-data="separator" cb-state="disabled" disabled')),c+=b);return c};c.prototype._data_to_html=function(){var a=this,b=a.result.object;b.active="default-page"===b.type?1:b.active;var c="";b.data.forEach(function(d){c+=d===b.active?a._render_html(1,
d):a._render_html(0,d)});var d=this._for_pageFunc(b.type,c);this.result.html=a._render_html(2,d);if(""!==a.target&&document.getElementById(a.target))document.getElementById(a.target).innerHTML=a.result.html;else return a.result.html};c.prototype._data_to_object=function(){return this.result.object};c.prototype._data_to_array=function(){return this.result.array};d.union.object(d.UI.paginationType,{standard:function(a,b){return new c(a,b)}})});
(function(){var d=cb.utils,e=function(){this.target="";this.config={};this.config_default={};this.config_temp={};this.type="standard";this.page_func=0;this.api={}};e.prototype.init=function(c){for(var a=[],b=0;b<arguments.length;++b)a[b-0]=arguments[b];this.config_default={pageSource:[],pageLabel:{prev:"prev",next:"next",first:"first",last:"last"},pageFunc:{prev:!0,next:!0,first:!0,last:!0,sep:!0},pageDisplay:3,pageSize:1,method:{},pageActive:1};switch(a.length){default:case 0:b="";var e="standard";
a=this.config_default;break;case 1:b="";e="standard";a="object"===typeof a[0]&&a[0]!=={}?a[0]:this.config_default;break;case 2:b=a[0];e=a[1];a=this.config_default;break;case 3:b=a[0],e=a[1],a=a[2]}this.target=b;this.config_temp=a;this.type=d.check_is_defined_obj(cb.UI.paginationType,e)&&"string"===typeof e?e:"standard";this.api=cb.UI.paginationType[this.type](this.config_default,this.config_temp).init();return this};e.prototype.api_reinit=function(){this.api=this.api.init()};e.prototype.set_target=
function(c){this.target=d.check_is_defined(c)&&""!==c?c:""};e.prototype.set_type=function(c){this.type=d.check_is_defined(c)&&"string"===typeof c&&-1!==d.check_is_defined_obj(cb.UI.paginationType,c)?c:"standard";this.reset();return this};e.prototype.set_pageSize=function(c){this.page_size=d.check_is_defined(c)&&"number"===typeof c&&0!==c?c:10};e.prototype.set_pageFunc=function(c){this.page_func=d.check_is_defined(c)&&"object"===typeof c?c:this.page_func};e.prototype.execute=function(){var c=this.api;
c.target=this.target;c.decision();this.config=c.config;d.check_is_defined_obj(this.config.method,"execute")&&"function"===typeof this.config.method.execute?this.config.method.execute(c):c.render("html")};e.prototype.reset=function(){this.api=cb.UI.paginationType[this.type](this.config_default,this.config_temp).init()};cb.UI.pagination=function(c){for(var a=[],b=0;b<arguments.length;++b)a[b-0]=arguments[b];b=new e;return b.init.apply(b,$jscomp.arrayFromIterable(a))}})();
